## h4

Tehtävissä käytetty rauta:

- Muistitikku – Kingston 32 GB DataTraveler SE9 G2
- Näytönohjain: Nvidia GeForce GTX 970
- Prosessori: Intel Xeon E3-1231 v3 @ 3.40 GHz
- Muisti: 16 GB DDR3
- Emolevy: Gigabyte Z97P-D3

Käyttöjärjestelmänä toimii Xubuntu 18.04

Kaikki tehtävät on suoritettu käyttäen live-tikkua.

Tehtävänannot: http://terokarvinen.com/2018/aikataulu-%e2%80%93-palvelinten-hallinta-ict4tn022-3004-ti-ja-3002-to-%e2%80%93-loppukevat-2018-5p

Alkutoimet: Linuxin käynnistys tikulta ja ajoin komennot 'setxkbmap fi'.

## A)

Tein itselleni bash skriptin, joka asentaa tietokoneelleni gitin, salt-masterin ja salt-minionin. Tämän jälkeen skripti konfiguroi gittiin minun sähköpostin ja käyttäjänimen. Seuraavaksi skripti konfiguroi salt-minionin laittamalla /etc/salt/minion tiedostoon masterin IP:n ja tietokoneen ID:n ja käynnistää salt-minionin uudestaan

	#!/bin/bash

	echo "Installing salt and Git..."
	sudo apt-get update
	sudo apt-get -y install git salt-master salt-minion

	echo "Configuring Git"
	git config --global user.email "matias.vanonen@gmail.com"
	git config --global user.name "matias"

	echo "Configuring the slave"
	echo -e "master: 192.168.1.70\nid: matias"|sudo tee /etc/salt/minion
	sudo systemctl restart salt-minion.service

Ajoin skriptin komennolla 'bash run.sh' ja tämä asensi kaiken onnistuneesti. Seuraavaksi kokeilin että salt-minionin konfigurointi onnistui joten annoin salt komennon 'sudo salt-key -A' 

Vastaukseksi sain

	Unaccepted Keys:
	matias
	Proceed? [n/Y] y
	Key for minion matias accepted.

matias oli antamani ID minionille joten skripti onnistui konfiguroimaan minionin.

Seuraavaksi testasin vielä että minion vastaa komennolla 'sudo salt '*' cmd.run "hostname -I"'

Vastaukseksi sain

	matias:
	    192.168.1.70

Ja minion myös vastasi odotetulla tavalla.


